<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Using Mastodon for blog comments | SVW Thunk'd</title><meta name=keywords content="100daysToOffload,hugo"><meta name=description content="I&rsquo;ve decided to use the fediverse for blog comments, rather than disqus.  Here&rsquo;s how I did it."><meta name=author content="Stewart V. Wright"><link rel=canonical href=https://stewart123579.github.io/blog/posts/using-mastodon-for-blog-comments/><link crossorigin=anonymous href=/blog/assets/css/stylesheet.min.b4e19c453811e60acfec1f00c15ac2be1c53f6ab90187e684358ce7faaf48bab.css integrity="sha256-tOGcRTgR5grP7B8AwVrCvhxT9quQGH5oQ1jOf6r0i6s=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/blog/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://stewart123579.github.io/blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://stewart123579.github.io/blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://stewart123579.github.io/blog/favicon-32x32.png><link rel=apple-touch-icon href=https://stewart123579.github.io/blog/apple-touch-icon.png><link rel=mask-icon href=https://stewart123579.github.io/blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><link rel=stylesheet type=text/css href=https://stewart123579.github.io/blog/css/mastodon.css><link rel=canonical href=https://stewart123579.github.io/blog/posts/using-mastodon-for-blog-comments/><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.4.0/css/lightgallery-bundle.min.css integrity="sha512-91yJwfiGTCo9TM74ZzlAIAN4Eh5EWHpQJUfvo/XhpH6lzQtiRFkFRW1W+JSg4ch4XW3/xzh+dY4TOw/ILpavQA==" crossorigin=anonymous referrerpolicy=no-referrer><style>.flex-container{display:flex;flex-flow:row wrap;justify-content:space-around}</style><meta property="og:title" content="Using Mastodon for blog comments"><meta property="og:description" content="I&rsquo;ve decided to use the fediverse for blog comments, rather than disqus.  Here&rsquo;s how I did it."><meta property="og:type" content="article"><meta property="og:url" content="https://stewart123579.github.io/blog/posts/using-mastodon-for-blog-comments/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-04-24T00:00:00+10:00"><meta property="article:modified_time" content="2023-04-24T00:00:00+10:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Using Mastodon for blog comments"><meta name=twitter:description content="I&rsquo;ve decided to use the fediverse for blog comments, rather than disqus.  Here&rsquo;s how I did it."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://stewart123579.github.io/blog/posts/"},{"@type":"ListItem","position":2,"name":"Using Mastodon for blog comments","item":"https://stewart123579.github.io/blog/posts/using-mastodon-for-blog-comments/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Using Mastodon for blog comments","name":"Using Mastodon for blog comments","description":"I\u0026rsquo;ve decided to use the fediverse for blog comments, rather than disqus.  Here\u0026rsquo;s how I did it.","keywords":["100daysToOffload","hugo"],"articleBody":"I’ve decided to use the fediverse for blog comments, rather than disqus.\nI was motivated by seeing a post by Veronica Olsen (yay! Another physicist!) which referenced Carl Schwan’s article and then lead me to Unixorn’s work.\nI’ve modified Unixorn’s work slightly by doing the following.\nUse existing capabilities. Firstly, I use layouts/partials rather than layouts/partial (note the trailing s). I’m not sure if that is a typo in the article or not.\nRather than creating layouts/default/single.html, I leveraged the existing file.\nI created layouts/partials/mastodon/head.html to reference the style sheet\n\u003clink rel=\"stylesheet\" type=\"text/css\" href=\"{{.Site.BaseURL}}css/mastodon.css\" /\u003e I then added (or created if you don’t already have it) the following to layouts/partials/extend_head.html\n{{ if .Params.comments.id }} {{ partial \"mastodon/head.html\" . }} {{ end }} What this does is it only includes a reference to the mastodon.css if I have the commends.id variable defined.\nTo include comments I then created layouts/partials/comments.html with the content:\n{{ if .Params.comments.id }} \u003cdiv\u003e {{ partial \"mastodon/mastodon.html\" .}} \u003c/div\u003e {{ end }} As before, if comments.id exists, then include the mastodon/mastodon.html partial Unixorn discusses.\nAdd dark mode to the CSS I’m not very good with CSS, so I hacked two changes into the CSS mentioned in the article.\n.dark .mastodon-comment { background-color: #36383d; } .dark .mastodon-comment .disabled { color: #ad55fd; } Otherwise I couldn’t see the discussions in my preferred dark theme.\nUsage I use ox-hugo to export my blog posts from Org Mode, so to replicate the comments stanza mentioned in the article, i.e.\ncomments: host: hachyderm.io username: unixorn id: 110149495764332469 I simply need to add the following PROPERTIES to my post in Org Mode\n:PROPERTIES: :EXPORT_HUGO_CUSTOM_FRONT_MATTER+: :comments.host hachyderm.io :EXPORT_HUGO_CUSTOM_FRONT_MATTER+: :comments.username unixorn :EXPORT_HUGO_CUSTOM_FRONT_MATTER+: :comments.id 110149495764332469 :END: Next I’m planning to move the comments.host and comments.username into my config.yaml so I don’t need to replicate for each post. I’ll update this post if I remember.\n","wordCount":"311","inLanguage":"en","datePublished":"2023-04-24T00:00:00+10:00","dateModified":"2023-04-24T00:00:00+10:00","author":[{"@type":"Person","name":"Stewart V. Wright"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://stewart123579.github.io/blog/posts/using-mastodon-for-blog-comments/"},"publisher":{"@type":"Organization","name":"SVW Thunk'd","logo":{"@type":"ImageObject","url":"https://stewart123579.github.io/blog/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://stewart123579.github.io/blog/ accesskey=h title="SVW Thunk'd (Alt + H)">SVW Thunk'd</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://stewart123579.github.io/blog/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://stewart123579.github.io/blog/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://stewart123579.github.io/blog/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://stewart123579.github.io/blog/archives/ title=Archive><span>Archive</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://stewart123579.github.io/blog/>Home</a>&nbsp;»&nbsp;<a href=https://stewart123579.github.io/blog/posts/>Posts</a></div><h1 class=post-title>Using Mastodon for blog comments</h1><div class=post-meta><span title='2023-04-24 00:00:00 +1000 AEST'>April 24, 2023</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Stewart V. Wright</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#use-existing-capabilities-dot aria-label="Use existing capabilities.">Use existing capabilities.</a></li><li><a href=#add-dark-mode-to-the-css aria-label="Add dark mode to the CSS">Add dark mode to the CSS</a></li><li><a href=#usage aria-label=Usage>Usage</a></li><li><a href=#next aria-label=Next>Next</a></li></ul></div></details></div><div class=post-content><p>I&rsquo;ve decided to use the fediverse for blog comments, rather than disqus.</p><p>I was motivated by seeing a post by <a href=https://mastodon.online/@veronica/110035145753110132>Veronica Olsen</a> (yay! Another physicist!) which referenced <a href=https://carlschwan.eu/2020/12/29/adding-comments-to-your-static-blog-with-mastodon/>Carl Schwan</a>&rsquo;s article and then lead me to <a href=https://unixorn.github.io/post/2023-03-blog-comments-via-mastodon/>Unixorn</a>&rsquo;s work.</p><hr><p>I&rsquo;ve modified <a href=https://unixorn.github.io/post/2023-03-blog-comments-via-mastodon/>Unixorn</a>&rsquo;s work slightly by doing the following.</p><h2 id=use-existing-capabilities-dot>Use existing capabilities.<a hidden class=anchor aria-hidden=true href=#use-existing-capabilities-dot>#</a></h2><p>Firstly, I use <code>layouts/partials</code> rather than <code>layouts/partial</code> (note the trailing <code>s</code>). I&rsquo;m not sure if that is a typo in the article or not.</p><p>Rather than creating <code>layouts/default/single.html</code>, I leveraged the existing file.</p><p>I created <code>layouts/partials/mastodon/head.html</code> to reference the style sheet</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:green;font-weight:700>link</span> <span style=color:#b44>rel</span><span style=color:#666>=</span><span style=color:#b44>&#34;stylesheet&#34;</span> <span style=color:#b44>type</span><span style=color:#666>=</span><span style=color:#b44>&#34;text/css&#34;</span> <span style=color:#b44>href</span><span style=color:#666>=</span><span style=color:#b44>&#34;{{.Site.BaseURL}}css/mastodon.css&#34;</span> /&gt;
</span></span></code></pre></div><p>I then added (or created if you don&rsquo;t already have it) the following to <code>layouts/partials/extend_head.html</code></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#080;font-style:italic>&lt;!-- Mastodon comments --&gt;</span>
</span></span><span style=display:flex><span>{{ if .Params.comments.id }}
</span></span><span style=display:flex><span>{{ partial &#34;mastodon/head.html&#34; . }}
</span></span><span style=display:flex><span>{{ end }}
</span></span></code></pre></div><p>What this does is it only includes a reference to the <code>mastodon.css</code> if I have the <code>commends.id</code> variable defined.</p><p>To include comments I then created <code>layouts/partials/comments.html</code> with the content:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>{{ if .Params.comments.id }}
</span></span><span style=display:flex><span>&lt;<span style=color:green;font-weight:700>div</span>&gt;
</span></span><span style=display:flex><span>  {{ partial &#34;mastodon/mastodon.html&#34; .}}
</span></span><span style=display:flex><span>&lt;/<span style=color:green;font-weight:700>div</span>&gt;
</span></span><span style=display:flex><span>{{ end }}
</span></span></code></pre></div><p>As before, if <code>comments.id</code> exists, then include the <code>mastodon/mastodon.html</code> partial Unixorn discusses.</p><h2 id=add-dark-mode-to-the-css>Add dark mode to the CSS<a hidden class=anchor aria-hidden=true href=#add-dark-mode-to-the-css>#</a></h2><p>I&rsquo;m not very good with CSS, so I hacked two changes into the CSS mentioned in the article.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>.<span style=color:#00f>dark</span> .<span style=color:#00f>mastodon-comment</span> {
</span></span><span style=display:flex><span>  <span style=color:#a2f;font-weight:700>background-color</span>: <span style=color:#666>#36383d</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>.<span style=color:#00f>dark</span> .<span style=color:#00f>mastodon-comment</span> .<span style=color:#00f>disabled</span> {
</span></span><span style=display:flex><span>  <span style=color:#a2f;font-weight:700>color</span>: <span style=color:#666>#ad55fd</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Otherwise I couldn&rsquo;t see the discussions in my preferred dark theme.</p><h2 id=usage>Usage<a hidden class=anchor aria-hidden=true href=#usage>#</a></h2><p>I use <a href=https://ox-hugo.scripter.co/>ox-hugo</a> to export my blog posts from <a href=/tags/orgmode/>Org Mode</a>, so to replicate the <code>comments</code> stanza mentioned in the article, i.e.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>comments</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>host</span>:<span style=color:#bbb> </span>hachyderm.io<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>username</span>:<span style=color:#bbb> </span>unixorn<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>id</span>:<span style=color:#bbb> </span><span style=color:#666>110149495764332469</span><span style=color:#bbb>
</span></span></span></code></pre></div><p>I simply need to add the following <code>PROPERTIES</code> to my post in Org Mode</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-org data-lang=org><span style=display:flex><span><span style=color:#080;font-style:italic>:PROPERTIES:
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span><span style=color:#080;font-weight:700>:EXPORT_HUGO_CUSTOM_FRONT_MATTER+: :comments.host     hachyderm.io
</span></span></span><span style=display:flex><span><span style=color:#080;font-weight:700>:EXPORT_HUGO_CUSTOM_FRONT_MATTER+: :comments.username unixorn
</span></span></span><span style=display:flex><span><span style=color:#080;font-weight:700>:EXPORT_HUGO_CUSTOM_FRONT_MATTER+: :comments.id       110149495764332469
</span></span></span><span style=display:flex><span><span style=color:#080;font-weight:700></span><span style=color:#080;font-style:italic>:END:</span>
</span></span></code></pre></div><h2 id=next>Next<a hidden class=anchor aria-hidden=true href=#next>#</a></h2><p>I&rsquo;m planning to move the <code>comments.host</code> and <code>comments.username</code> into my config.yaml so I don&rsquo;t need to replicate for each post. I&rsquo;ll update this post if I remember.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://stewart123579.github.io/blog/tags/100daystooffload/>100daysToOffload</a></li><li><a href=https://stewart123579.github.io/blog/tags/hugo/>hugo</a></li></ul><nav class=paginav><a class=prev href=https://stewart123579.github.io/blog/posts/emacs/emacs-on-windows-getting-tramp-to-work/><span class=title>« Prev Page</span><br><span>Emacs on Windows: Getting tramp to work</span></a>
<a class=next href=https://stewart123579.github.io/blog/posts/emacs/emacs-site-lisp-fix-for-macos/><span class=title>Next Page »</span><br><span>Emacs site-lisp fix for MacOS</span></a></nav></footer><div><div class=article-content><h2>Comments</h2><p>You can use your Mastodon account to reply to this<a class=button href=https://emacs.ch/@svw/110252617591218826>post</a>.</p><p><button class=button id=replyButton href=https://emacs.ch/@svw/110252617591218826>Reply</button></p><dialog id=toot-reply class=mastodon data-component=dialog><h3>Reply to svw's post</h3><p>With an account on the Fediverse or Mastodon, you can respond to this post.
Since Mastodon is decentralized, you can use your existing account hosted by another Mastodon server or compatible platform if you don't have an account on this one.</p><p>Copy and paste this URL into the search field of your favourite Fediverse app or the web interface of your Mastodon server.</p><div class=copypaste><input type=text readonly value=https://emacs.ch/@svw/110252617591218826>
<button class=button id=copyButton>Copy</button>
<button class=button id=cancelButton>Close</button></div></dialog><p id=mastodon-comments-list><button id=load-comment class=button>Load comments</button></p><noscript><p>You need JavaScript to view the comments.</p></noscript><script src=/assets/js/purify.min.js></script>
<script type=text/javascript>const dialog=document.querySelector("dialog");document.getElementById("replyButton").addEventListener("click",()=>{dialog.showModal()}),document.getElementById("copyButton").addEventListener("click",()=>{navigator.clipboard.writeText("https://emacs.ch/@svw/110252617591218826")}),document.getElementById("cancelButton").addEventListener("click",()=>{dialog.close()}),dialog.addEventListener("keydown",e=>{e.key==="Escape"&&dialog.close()});const dateOptions={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"};function escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}document.getElementById("load-comment").addEventListener("click",function(){document.getElementById("load-comment").innerHTML="Loading",fetch("https://emacs.ch/api/v1/statuses/110252617591218826/context").then(function(e){return e.json()}).then(function(e){e.descendants&&Array.isArray(e.descendants)&&e.descendants.length>0?(document.getElementById("mastodon-comments-list").innerHTML="",e.descendants.forEach(function(e){e.account.display_name=escapeHtml(e.account.display_name),e.account.reply_class=e.in_reply_to_id=="110252617591218826"?"reply-original":"reply-child",e.account.emojis.forEach(t=>{e.account.display_name=e.account.display_name.replace(`:${t.shortcode}:`,`<img src="${escapeHtml(t.static_url)}" alt="Emoji ${t.shortcode}" height="20" width="20" />`)}),mastodonComment=`<div class="mastodon-wrapper">
                    <div class="comment-level ${e.account.reply_class}"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" fill="none" transform="rotate(180)"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path stroke="#535358" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.608 12.526l7.04-6.454C13.931 4.896 16 5.806 16 7.546V11c13 0 11 16 11 16s-4-10-11-10v3.453c0 1.74-2.069 2.65-3.351 1.475l-7.04-6.454a2 2 0 010-2.948z"></path> </g></svg></div>
                    <div class="mastodon-comment">
                     <div class="avatar">
                       <img src="${escapeHtml(e.account.avatar_static)}" height=60 width=60 alt="">
                     </div>
                     <div class="content">
                       <div class="author">
                         <a href="${e.account.url}" rel="nofollow">
                           <span>${e.account.display_name}</span>
                           <span class="disabled">${escapeHtml(e.account.acct)}</span>
                         </a>
                         <a class="date" href="${e.uri}" rel="nofollow">
                           ${e.created_at.substr(0,10)}
                         </a>
                       </div>
                       <div class="mastodon-comment-content">${e.content}</div>
                     </div>
                   </div>
                  </div>`,document.getElementById("mastodon-comments-list").appendChild(DOMPurify.sanitize(mastodonComment,{RETURN_DOM_FRAGMENT:!0}))})):document.getElementById("mastodon-comments-list").innerHTML="<p>No comments found</p>"})})</script></div></div></article></main><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><footer class=footer><span>&copy; 2023 <a href=https://stewart123579.github.io/blog/>SVW Thunk'd</a></span>
<span>|
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> |
<a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a> |
<a href=https://www.gnu.org/software/emacs/ rel=noopener target=_blank>Emacs</a> |
<a href=https://orgmode.org/ rel=noopener target=_blank>Org Mode</a> |
<a href=https://ox-hugo.scripter.co/ rel=noopener target=_blank>ox-hugo</a></span></footer><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>